{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fredpasqua/Desktop/client-loaners_project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/fredpasqua/Desktop/client-loaners_project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/fredpasqua/Desktop/client-loaners_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Form from\"react-bootstrap/Form\";import Button from\"react-bootstrap/Button\";import{Card,Container,CardGroup,Col,Row}from\"react-bootstrap\";import\"./login-view.css\";import axios from\"axios\";import horntrax from\"./Images/horntrax-ph-logo.jpg\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function LoginView(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];//Declare hook for each input\nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),usernameErr=_useState6[0],setUsernameErr=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),passwordErr=_useState8[0],setPasswordErr=_useState8[1];// validate user inputs\nvar validate=function validate(){var isReq=true;if(!username){setUsernameErr(\"Username Required\");isReq=false;}else if(username.length<5){setUsernameErr(\"Username must be atleast 5 characters long\");isReq=false;}if(!password){setPasswordErr(\"Password is required!\");isReq=false;}else if(password.length<6){setPasswordErr(\"Password must contain atleast 6 characters\");isReq=false;}return isReq;};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var isReq;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();isReq=validate();if(!isReq){_context.next=5;break;}_context.next=5;return axios.post(\"https://horntrax-api.herokuapp.com/users/login/\".concat(username),{password:password}).then(function(response){var data=response.data;console.log(data);console.log(data._id);props.setUser(data);props.forceUpdate();}).catch(function(e){console.log(e);alert(\"The provided username does not exist or the password was entered incorrectly.\");});case 5:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{className:\"login_page\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:12,children:/*#__PURE__*/_jsx(CardGroup,{children:/*#__PURE__*/_jsx(Card,{Card:true,border:\"light\",style:{width:\"25rem\",marginTop:\"50px\"},children:/*#__PURE__*/_jsxs(Card.Body,{className:\"login_container\",children:[/*#__PURE__*/_jsx(Card.Title,{children:/*#__PURE__*/_jsx(\"img\",{src:horntrax,alt:\"logo\"})}),/*#__PURE__*/_jsxs(Card.Title,{children:[\"Please Login or \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formUsername\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username:\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",onChange:function onChange(e){return setUsername(e.target.value);},placeholder:\"Enter a username\"}),usernameErr&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},className:\"font-italic\",children:usernameErr})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password:\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"password\"}),passwordErr&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},className:\"font-italic\",children:passwordErr})]}),/*#__PURE__*/_jsx(Button,{className:\"button\",variant:\"info\",type:\"submit\",onClick:handleSubmit,children:\"Submit\"})]})]})})})})})})});}","map":{"version":3,"names":["React","useState","Form","Button","Card","Container","CardGroup","Col","Row","axios","horntrax","Link","LoginView","props","username","setUsername","password","setPassword","usernameErr","setUsernameErr","passwordErr","setPasswordErr","validate","isReq","length","handleSubmit","e","preventDefault","post","then","response","data","console","log","_id","setUser","forceUpdate","catch","alert","width","marginTop","target","value","color"],"sources":["/Users/fredpasqua/Desktop/client-loaners_project/src/loginView.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { Card, Container, CardGroup, Col, Row } from \"react-bootstrap\";\nimport \"./login-view.css\";\nimport axios from \"axios\";\nimport horntrax from \"./Images/horntrax-ph-logo.jpg\";\nimport { Link } from \"react-router-dom\";\n\nexport function LoginView(props) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  //Declare hook for each input\n  const [usernameErr, setUsernameErr] = useState(\"\");\n  const [passwordErr, setPasswordErr] = useState(\"\");\n\n  // validate user inputs\n  const validate = () => {\n    let isReq = true;\n    if (!username) {\n      setUsernameErr(\"Username Required\");\n      isReq = false;\n    } else if (username.length < 5) {\n      setUsernameErr(\"Username must be atleast 5 characters long\");\n      isReq = false;\n    }\n    if (!password) {\n      setPasswordErr(\"Password is required!\");\n      isReq = false;\n    } else if (password.length < 6) {\n      setPasswordErr(\"Password must contain atleast 6 characters\");\n      isReq = false;\n    }\n\n    return isReq;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const isReq = validate();\n    if (isReq) {\n      /* Send a request to the server for authentication */\n      await axios\n        .post(`https://horntrax-api.herokuapp.com/users/login/${username}`, {\n          password: password,\n        })\n        .then((response) => {\n          const data = response.data;\n          console.log(data);\n          console.log(data._id);\n          props.setUser(data);\n          props.forceUpdate();\n        })\n        .catch((e) => {\n          console.log(e);\n          alert(\n            \"The provided username does not exist or the password was entered incorrectly.\"\n          );\n        });\n    }\n  };\n\n  return (\n    <>\n      <Container className=\"login_page\">\n        <Row>\n          <Col lg={12}>\n            <CardGroup>\n              <Card\n                Card\n                border=\"light\"\n                style={{ width: \"25rem\", marginTop: \"50px\" }}\n              >\n                <Card.Body className=\"login_container\">\n                  <Card.Title>\n                    <img src={horntrax} alt=\"logo\" />\n                  </Card.Title>\n                  <Card.Title>\n                    Please Login or <Link to=\"/register\">Register</Link>\n                  </Card.Title>\n\n                  <Form>\n                    <Form.Group controlId=\"formUsername\">\n                      <Form.Label>Username:</Form.Label>\n                      <Form.Control\n                        type=\"text\"\n                        onChange={(e) => setUsername(e.target.value)}\n                        placeholder=\"Enter a username\"\n                      />\n                      {usernameErr && (\n                        <p style={{ color: \"red\" }} className=\"font-italic\">\n                          {usernameErr}\n                        </p>\n                      )}\n                    </Form.Group>\n\n                    <Form.Group controlId=\"formPassword\">\n                      <Form.Label>Password:</Form.Label>\n                      <Form.Control\n                        type=\"password\"\n                        onChange={(e) => setPassword(e.target.value)}\n                        placeholder=\"password\"\n                      />\n                      {passwordErr && (\n                        <p style={{ color: \"red\" }} className=\"font-italic\">\n                          {passwordErr}\n                        </p>\n                      )}\n                    </Form.Group>\n                    <Button\n                      className=\"button\"\n                      variant=\"info\"\n                      type=\"submit\"\n                      onClick={handleSubmit}\n                    >\n                      Submit\n                    </Button>\n                  </Form>\n                </Card.Body>\n              </Card>\n            </CardGroup>\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}