{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fredpasqua/Desktop/client-loaners_project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/fredpasqua/Desktop/client-loaners_project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/fredpasqua/Desktop/client-loaners_project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/fredpasqua/Desktop/client-loaners_project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/fredpasqua/Desktop/client-loaners_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import\"./AddLoaner.css\";import Alert from\"react-bootstrap/Alert\";import Accordion from\"react-bootstrap/Accordion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddLoaner=function AddLoaner(props){var _useState=useState({type:\"\",brand:\"\",serial:\"\",barcode:\"\",location:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show2=_useState6[0],setShow2=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axios.post(\"https://horntrax-api.herokuapp.com/loaners/add\",formData);case 4:setMessage(\"Instrument addeded Succesfully!\");setShow2(true);setTimeout(function(){setShow2(false);},2000);setFormData({type:\"\",brand:\"\",serial:\"\",barcode:\"\",location:\"\"});props.forceUpdate();_context.next=16;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setShow(true);setMessage(_context.t0.response.data);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,11]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Accordion,{children:/*#__PURE__*/_jsxs(Accordion.Item,{eventKey:\"0\",children:[/*#__PURE__*/_jsx(Accordion.Header,{children:\"ADD AN INSTRUMENT\"}),/*#__PURE__*/_jsxs(Accordion.Body,{children:[show?/*#__PURE__*/_jsxs(Alert,{variant:\"danger\",onClose:function onClose(){return setShow(false)&&setMessage(\"\");},dismissible:true,children:[/*#__PURE__*/_jsx(Alert.Heading,{children:\"Oh snap! You got an error!\"}),/*#__PURE__*/_jsx(\"p\",{children:message})]}):null,show2?/*#__PURE__*/_jsx(Alert,{variant:\"primary\",onClose:function onClose(){return setShow2(false)&&setMessage(\"\");},dismissible:true,children:/*#__PURE__*/_jsx(Alert.Heading,{children:message})}):null,/*#__PURE__*/_jsxs(\"form\",{className:\"loaner-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Instrument:\",/*#__PURE__*/_jsx(\"input\",{className:\"loaner-input\",type:\"text\",name:\"type\",value:formData.type,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Brand:\",/*#__PURE__*/_jsx(\"input\",{className:\"loaner-input\",type:\"text\",name:\"brand\",value:formData.brand,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Serial:\",/*#__PURE__*/_jsx(\"input\",{className:\"loaner-input\",type:\"text\",name:\"serial\",value:formData.serial,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Barcode:\",/*#__PURE__*/_jsx(\"input\",{className:\"loaner-input\",type:\"number\",name:\"barcode\",value:formData.barcode,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Location:\",/*#__PURE__*/_jsx(\"input\",{className:\"loaner-input\",type:\"text\",name:\"location\",value:formData.location,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{className:\"loaner-submit\",type:\"submit\",children:\"Add Instrument\"})]})]})]})})});};export default AddLoaner;","map":{"version":3,"names":["React","useState","axios","Alert","Accordion","AddLoaner","props","type","brand","serial","barcode","location","formData","setFormData","show","setShow","show2","setShow2","message","setMessage","handleChange","e","target","name","value","handleSubmit","preventDefault","post","setTimeout","forceUpdate","console","error","response","data"],"sources":["/Users/fredpasqua/Desktop/client-loaners_project/src/AddLoaner.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./AddLoaner.css\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Accordion from \"react-bootstrap/Accordion\";\nconst AddLoaner = (props) => {\n  const [formData, setFormData] = useState({\n    type: \"\",\n    brand: \"\",\n    serial: \"\",\n    barcode: \"\",\n    location: \"\",\n  });\n  const [show, setShow] = useState(false);\n  const [show2, setShow2] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await axios.post(\n        \"https://horntrax-api.herokuapp.com/loaners/add\",\n        formData\n      );\n      setMessage(\"Instrument addeded Succesfully!\");\n      setShow2(true);\n      setTimeout(() => {\n        setShow2(false);\n      }, 2000);\n      setFormData({\n        type: \"\",\n        brand: \"\",\n        serial: \"\",\n        barcode: \"\",\n        location: \"\",\n      });\n      props.forceUpdate();\n    } catch (error) {\n      console.error(error);\n      setShow(true);\n      setMessage(error.response.data);\n    }\n  };\n\n  return (\n    <>\n      <Accordion>\n        <Accordion.Item eventKey=\"0\">\n          <Accordion.Header>ADD AN INSTRUMENT</Accordion.Header>\n          <Accordion.Body>\n            {show ? (\n              <Alert\n                variant=\"danger\"\n                onClose={() => setShow(false) && setMessage(\"\")}\n                dismissible\n              >\n                <Alert.Heading>Oh snap! You got an error!</Alert.Heading>\n                <p>{message}</p>\n              </Alert>\n            ) : null}\n            {show2 ? (\n              <Alert\n                variant=\"primary\"\n                onClose={() => setShow2(false) && setMessage(\"\")}\n                dismissible\n              >\n                <Alert.Heading>{message}</Alert.Heading>\n              </Alert>\n            ) : null}\n\n            <form className=\"loaner-form\" onSubmit={handleSubmit}>\n              <label>\n                Instrument:\n                <input\n                  className=\"loaner-input\"\n                  type=\"text\"\n                  name=\"type\"\n                  value={formData.type}\n                  onChange={handleChange}\n                />\n              </label>\n              <label>\n                Brand:\n                <input\n                  className=\"loaner-input\"\n                  type=\"text\"\n                  name=\"brand\"\n                  value={formData.brand}\n                  onChange={handleChange}\n                />\n              </label>\n              <label>\n                Serial:\n                <input\n                  className=\"loaner-input\"\n                  type=\"text\"\n                  name=\"serial\"\n                  value={formData.serial}\n                  onChange={handleChange}\n                />\n              </label>\n              <label>\n                Barcode:\n                <input\n                  className=\"loaner-input\"\n                  type=\"number\"\n                  name=\"barcode\"\n                  value={formData.barcode}\n                  onChange={handleChange}\n                />\n              </label>\n              <label>\n                Location:\n                <input\n                  className=\"loaner-input\"\n                  type=\"text\"\n                  name=\"location\"\n                  value={formData.location}\n                  onChange={handleChange}\n                />\n              </label>\n              <button className=\"loaner-submit\" type=\"submit\">\n                Add Instrument\n              </button>\n            </form>\n          </Accordion.Body>\n        </Accordion.Item>\n      </Accordion>\n    </>\n  );\n};\n\nexport default AddLoaner;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}